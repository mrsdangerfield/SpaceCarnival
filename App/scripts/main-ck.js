"use strict";var spaceCarnival={init:function(){var e=this;this.planetNavigation()},planetNavigation:function(){function e(e){function a(e,t){n.removeClass("animate");t&&n.addClass("animate");if(Modernizr.csstransforms3d)n.css("transform","translate3d( 0, "+e+"% ,0) scale3d(1,1,1)");else if(Modernizr.csstransforms)n.css("transform","translate( 0, "+e+"%)");else{var r=s*i/100*e;console.log("percent"+e);n.css("top",r+"px")}}function f(e){e.gesture.preventDefault();switch(e.type){case"dragdown":case"dragup":var n=-(100/i)*u,r=100/s*e.gesture.deltaX/i;if(u==0&&e.gesture.direction=="up"||u==i-1&&e.gesture.direction=="down")r*=.4;a(r+n);break;case"swipeup":t.up();console.log("swiped up");e.gesture.stopDetect();break;case"swipedown":t.down();console.log("swiped down");e.gesture.stopDetect();break;case"release":Math.abs(e.gesture.deltaX)>s/2?e.gesture.direction=="up"?t.up():t.down():t.showPlanet(u,!0)}}var t=this,e=$(e),n=$(".planet-system"),r=$(".planet-system .planet-item"),i=$(".planet-system .planet-item").length,s=$(".planet-item").height(),o=$("#carousel"),u=1;this.init=function(){var e=$(".planet-item").height();r.each(function(){$(this).height(e)});n.css({marginTop:"-"+e*(i-1)+"px"});$(window).on("load resize orientationchange",function(){var e=$(".planet-item").height();r.each(function(){$(this).height(e)})})};this.showPlanet=function(e,t){e=Math.max(0,Math.min(e,i-1));u=e;console.log(i);console.log(u);console.log("index:"+e);var n=100/i*u;console.log("offset"+n);a(n,t)};this.up=function(){return this.showPlanet(u+1,!0)};this.down=function(){return this.showPlanet(u-1,!0)};(new Hammer(e[0],{dragLockToAxis:!0})).on("release dragup dragdown swipeup swipedown",f)}var t=new e("#carousel");t.init()}};spaceCarnival.init();